# =============================================================================
# CONTAINER CONFIGURATION - Primary Settings
# =============================================================================
ENV_NAME=bball_homography_pipeline_env

# =============================================================================
# DOCKER & CUDA CONFIGURATION  
# =============================================================================
CUDA_TAG=12.4.0
DOCKER_BUILDKIT=1

# =============================================================================
# HOST PORT MAPPINGS - ENHANCED with Computer Vision Services
# =============================================================================
HOST_JUPYTER_PORT=8895
HOST_TENSORBOARD_PORT=6005
HOST_EXPLAINER_PORT=8055
HOST_STREAMLIT_PORT=8505
HOST_MLFLOW_PORT=5005

# ▶ Computer Vision Service Ports - INTEGRATED
HOST_CV_API_PORT=8080
HOST_CV_STREAM_PORT=8554

# =============================================================================
# PYTHON & RUNTIME CONFIGURATION
# =============================================================================
PYTHON_VER=3.10

# =============================================================================
# GPU MEMORY MANAGEMENT - ENHANCED for PyTorch + JAX + Computer Vision
# =============================================================================
JAX_PLATFORM_NAME=

# Optimized for RTX 4090 - PyTorch + JAX + Computer Vision memory sharing
XLA_PYTHON_CLIENT_PREALLOCATE=false
XLA_PYTHON_CLIENT_ALLOCATOR=platform  
XLA_PYTHON_CLIENT_MEM_FRACTION=0.35
XLA_FLAGS=--xla_force_host_platform_device_count=1
JAX_DISABLE_JIT=false
JAX_ENABLE_X64=false
JAX_PREALLOCATION_SIZE_LIMIT_BYTES=10737418240

# PyTorch memory management for RTX 4090 with CV workloads
PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:1024,expandable_segments:True,roundup_power2_divisions:16

# =============================================================================
# JUPYTER CONFIGURATION
# =============================================================================
JUPYTER_TOKEN=jupyter

# =============================================================================
# UV PACKAGE MANAGER CONFIGURATION
# =============================================================================
UV_PROJECT_ENVIRONMENT=/app/.venv

# =============================================================================
# ▶ COMPUTER VISION CONFIGURATION - INTEGRATED
# =============================================================================

# Roboflow API Configuration
# IMPORTANT: Replace the placeholder below with your actual API key
# Get your API key from: https://app.roboflow.com/settings/api
ROBOFLOW_API_KEY=ROBOFLOW_API_KEY
ROBOFLOW_WORKSPACE=basketball-formations
ROBOFLOW_PROJECT=basketball-court-detection-2-mlopt
ROBOFLOW_VERSION=1


# Computer Vision Environment Variables
YOLO_VERBOSE=false
OPENCV_LOG_LEVEL=ERROR

# Display Configuration for GUI Support
DISPLAY=:0
QT_X11_NO_MITSHM=1
LIBGL_ALWAYS_INDIRECT=1

# Video Processing Configuration
VIDEO_INPUT_DIR=/workspace/videos/input
VIDEO_OUTPUT_DIR=/workspace/videos/output

# OpenCV Configuration
OPENCV_VIDEOIO_PRIORITY_GSTREAMER=0

# Model Storage Configuration
YOLO_MODELS_DIR=/app/weights
CV_MODELS_DIR=/app/models
CV_DATA_DIR=/app/data

# =============================================================================
# BASKETBALL-SPECIFIC CONFIGURATION
# =============================================================================

# Basketball court detection model configuration
BASKETBALL_COURT_MODEL=basketball-court-detection-2-mlopt
PLAYER_DETECTION_MODEL=yolov8n.pt
BALL_DETECTION_MODEL=basketball-ball-detection

# Tracking configuration for basketball
TRACKING_MAX_AGE=30
TRACKING_IOU_THRESHOLD=0.3
TRACKING_CONFIDENCE_THRESHOLD=0.5

# Basketball-specific processing parameters
COURT_DETECTION_CONFIDENCE=0.7
PLAYER_DETECTION_CONFIDENCE=0.5
BALL_DETECTION_CONFIDENCE=0.4

# =============================================================================
# KAGGLE AUTHENTICATION (Optional)
# =============================================================================
KAGGLE_USERNAME=geoffhadfield 
KAGGLE_KEY=your_api_token

# =============================================================================
# ADDITIONAL ENVIRONMENT VARIABLES FOR DEVELOPMENT
# =============================================================================

# Python environment optimization
PYTHONUNBUFFERED=1
PYTHONHASHSEED=random

# Disable certain warnings for cleaner output
PYTHONWARNINGS=ignore::UserWarning
TF_CPP_MIN_LOG_LEVEL=2

# Memory optimization for large datasets
MALLOC_ARENA_MAX=2
MALLOC_TCACHE_MAX=0

# OpenMP configuration for multi-threading
OMP_NUM_THREADS=4
MKL_NUM_THREADS=4

# Development flags
DEBUG_MODE=false
VERBOSE_LOGGING=false
